function render(){clock.getElapsedTime();floor.visible=!1,mirrorCamera.position.copy(floor.position),mirrorCamera.rotation.set(0,0,0),groundMirror.render(),renderer.render(scene,camera),TWEEN.update(),vasa++,requestAnimationFrame(render)}var container,scene,renderer,camera,light,clock,loader,WIDTH,HEIGHT,VIEW_ANGLE,ASPECT,NEAR,FAR;container=document.querySelector(".viewport"),clock=new THREE.Clock,WIDTH=window.innerWidth,HEIGHT=window.innerHeight,VIEW_ANGLE=45,ASPECT=WIDTH/HEIGHT,NEAR=1,FAR=1e4,scene=new THREE.Scene,scene.rotation.x=0,scene.rotation.y=0,scene.rotation.z=0,renderer=new THREE.WebGLRenderer({antialias:!0}),renderer.setSize(WIDTH,HEIGHT),renderer.setClearColor(16777215,1),container.appendChild(renderer.domElement),camera=new THREE.PerspectiveCamera(VIEW_ANGLE,ASPECT,NEAR,FAR),mirrorCamera=new THREE.CubeCamera(1,10,1024),camera.position.set(.5105396863227961,3.643376153074933,-1.3890251433637397),camera.rotation.x=-Math.PI/12,scene.add(camera),controls=new THREE.OrbitControls(camera,renderer.domElement),controls.target.set(0,0,0),controls.update(),controls.maxPolarAngle=Math.PI/2-.094,controls.maxDistance=13;var ambient=new THREE.AmbientLight(16777215),point=new THREE.PointLight(16777215,.3,1e3);ambient.intensity=.9,scene.add(ambient),point.position.x=1,point.position.y=3,point.position.z=5,loader=new THREE.JSONLoader,scene.add(mirrorCamera);var mesh,container,maxAnisotropy=renderer.getMaxAnisotropy(),floor_geometry=new THREE.BoxGeometry(10,.001,10),floor_material=new THREE.MeshBasicMaterial({envMap:mirrorCamera.renderTarget}),planeGeo=new THREE.PlaneBufferGeometry(10,10),groundMirror=new THREE.Mirror(renderer,camera,{clipBias:1,textureWidth:WIDTH,textureHeight:HEIGHT,color:15527148}),texture=groundMirror.material,mirrorMesh=new THREE.Mesh(planeGeo,texture);mirrorMesh.add(groundMirror),mirrorMesh.rotateX(-Math.PI/2);var maze_geometry=new THREE.BoxGeometry(1,.3,.01),maze_geometry2=new THREE.BoxGeometry(5,.3,.01),maze_material=new THREE.MeshLambertMaterial({color:0}),yellow_material=new THREE.MeshLambertMaterial({color:16729670}),maze=new THREE.Mesh(maze_geometry,maze_material),maze2=new THREE.Mesh(maze_geometry,maze_material),maze3=new THREE.Mesh(maze_geometry,maze_material),maze4=new THREE.Mesh(maze_geometry,maze_material),maze5=new THREE.Mesh(maze_geometry2,maze_material),maze6=new THREE.Mesh(maze_geometry2,maze_material),center=new THREE.Mesh,center2=new THREE.Mesh,mazeLineGeom=new THREE.Geometry,mazeLineGeom2=new THREE.Geometry,mazeLineGeom3=new THREE.Geometry,yellowGeom=new THREE.Geometry;mazeLineGeom.vertices.push(new THREE.Vector3(0,0,0),new THREE.Vector3(0,0,4),new THREE.Vector3(-4,0,0)),mazeLineGeom2.vertices.push(new THREE.Vector3(0,0,0),new THREE.Vector3(0,1,0),new THREE.Vector3(1,1,0),new THREE.Vector3(1,0,0)),mazeLineGeom3.vertices.push(new THREE.Vector3(0,0,0),new THREE.Vector3(0,.1,0),new THREE.Vector3(8,.1,0),new THREE.Vector3(8,0,0)),yellowGeom.vertices.push(new THREE.Vector3(0,0,0),new THREE.Vector3(0,.15,0),new THREE.Vector3(7,.15,0),new THREE.Vector3(7,0,0)),mazeLineGeom.faces.push(new THREE.Face4(0,1,2,3)),mazeLineGeom2.faces.push(new THREE.Face3(0,1,2)),mazeLineGeom2.faces.push(new THREE.Face3(0,2,3)),mazeLineGeom3.faces.push(new THREE.Face3(0,1,2)),mazeLineGeom3.faces.push(new THREE.Face3(0,2,3)),yellowGeom.faces.push(new THREE.Face3(0,1,2)),yellowGeom.faces.push(new THREE.Face3(0,2,3)),mazeLineGeom.computeBoundingSphere(),mazeLineGeom2.computeBoundingSphere(),mazeLineGeom3.computeBoundingSphere(),yellowGeom.computeBoundingSphere();var mazeShape=new THREE.Mesh(mazeLineGeom,maze_material),mazeShape2=new THREE.Mesh(mazeLineGeom2,maze_material),mazeShape3=new THREE.Mesh(mazeLineGeom3,maze_material),yellowShape=new THREE.Mesh(yellowGeom,yellow_material),mazeCont=new THREE.Mesh;mazeShape.position.y=2,mazeShape2.position.y=3,mazeShape2.position.x=0,mazeShape3.position.x=-3,yellowShape.position.set(-3,1.5,-1),yellowShape.rotation.y=-Math.PI/4;var view={position:camera.position,rotation:{x:camera.rotation.x,y:camera.rotation.y,z:camera.rotation.z}},rotation={x:-3.047493474219677,y:-.04584905340038268,z:-3.137267058875789},fov={};fov.uno=10;var position2={x:0,y:0,z:0};camera.fov=10;var vasa=40;yellowShape.pos={x:-3},camera.updateProjectionMatrix(),center2.add(mazeShape,mazeShape2,mazeShape3,yellowShape,center);var tween=new TWEEN.Tween(view.position).to({z:-10},1400).easing(TWEEN.Easing.Quadratic.Out),tween5=new TWEEN.Tween(view.position).to({y:15.24936767630562},1200).easing(TWEEN.Easing.Quadratic.In),tween7=new TWEEN.Tween(rotation).to({x:-2.2554387824359834},1200).easing(TWEEN.Easing.Quadratic.In),tween8=new TWEEN.Tween(rotation).to({x:-1.8876330848263423,y:.30203039260633513,z:2.4048065724721672-2*Math.PI},1500).easing(TWEEN.Easing.Quartic.Out),tween6=new TWEEN.Tween(view.position).to({x:5,z:-5},1500).easing(TWEEN.Easing.Quartic.Out),tween9=new TWEEN.Tween(rotation).to({x:-1.570797026242877,y:7.053619697217657e-7,z:2.3586584817828173-2*Math.PI},1500).easing(TWEEN.Easing.Quartic.In),tween10=new TWEEN.Tween(view.position).to({x:.18717662734015728,y:13.039731858009107,z:.04883000162822242},1500).easing(TWEEN.Easing.Quartic.In),tween11=new TWEEN.Tween(position2).to({x:2,y:0,z:2},1500).easing(TWEEN.Easing.Quartic.Out),tween12=new TWEEN.Tween(yellowShape.pos).to({x:-1.5},1e3).easing(TWEEN.Easing.Circular.Out),tween2=new TWEEN.Tween(view.position).to({x:-4.217951970039052,y:11.951513296555966,z:-2.8931317116041537},3e3).easing(TWEEN.Easing.Quartic.InOut),tween3=new TWEEN.Tween(view.position).to({x:-9226082225396355e-21,y:12.999999999993499,z:9158570126944982e-21},3e3).easing(TWEEN.Easing.Quartic.InOut),tween4=new TWEEN.Tween(fov).to({uno:40},1400).easing(TWEEN.Easing.Quadratic.In);tween4.delay(2500).start(),tween4.chain(tween),tween.chain(tween5,tween7),tween7.chain(tween6,tween8),tween8.chain(tween9,tween10),tween10.delay(800).chain(tween12),tween11.onUpdate(function(){mazeCont.position.x=position2.x,mazeCont.position.y=position2.y,mazeCont.position.z=position2.z}),tween12.onUpdate(function(){yellowShape.position.x=yellowShape.pos.x}),tween.onUpdate(function(){camera.position.x=view.position.x,camera.position.y=view.position.y,camera.position.z=view.position.z}),tween6.onUpdate(function(){camera.position.x=view.position.x,camera.position.y=view.position.y,camera.position.z=view.position.z}),tween5.onUpdate(function(){camera.rotation.x=rotation.x,camera.rotation.y=rotation.y,camera.rotation.z=rotation.z}),tween7.onUpdate(function(){camera.rotation.x=rotation.x,camera.rotation.y=rotation.y,camera.rotation.z=rotation.z}),tween8.onUpdate(function(){camera.rotation.x=rotation.x,camera.rotation.y=rotation.y,camera.rotation.z=rotation.z}),tween9.onUpdate(function(){camera.position.x=view.position.x,camera.position.y=view.position.y,camera.position.z=view.position.z}),tween10.onUpdate(function(){camera.rotation.x=rotation.x,camera.rotation.y=rotation.y,camera.rotation.z=rotation.z}),tween2.onUpdate(function(){camera.position.x=view.position.x,camera.position.y=view.position.y,camera.position.z=view.position.z,camera.lookAt(center2.position)}),tween3.onUpdate(function(){camera.position.x=view.position.x,camera.position.y=view.position.y,camera.position.z=view.position.z,camera.lookAt(center2.position)}),tween4.onUpdate(function(){camera.fov=fov.uno,camera.updateProjectionMatrix()}),maze2.position.x=-.5,maze2.position.z=-.5,maze2.rotation.y=Math.PI/2,maze3.position.x=.5,maze3.position.z=-.5,maze3.rotation.y=Math.PI/2,maze4.position.z=-1,maze5.position.z=-.5,maze5.rotation.y=Math.PI/4,maze5.position.z=-.5,maze5.rotation.y=Math.PI/4,maze6.position.z=.5,maze6.rotation.y=Math.PI/4,center.position.z=.5;var mazeCont=new THREE.Mesh;mazeCont.add(maze,maze2,maze3,maze4,maze5,maze6),center.add(mazeCont),scene.add(center2);var cameraPosX=.44426790438853775,cameraPosY=3.6624066401248725,cameraPosZ=-1.9126542045900217;camera.position.set(.44426790438853775,3.6624066401248725,-1.9126542045900217),camera.rotation.set(-3.047493474219677,-.04584905340038268,-3.137267058875789),floor=new THREE.Mesh(floor_geometry,floor_material),mirrorCamera.position=floor.position,floor.receiveShadow=!0,center2.add(floor),center2.add(mirrorMesh),scene.fog=new THREE.FogExp2(10066431,25e-5),vasa=0,render(),center2.direction=1;